<html lang="eng"
      xmlns="http://www.thymeleaf.org">

<td th:fragment="daysLeft(p)">

    <span th:with="days=${p.daysLeftUntilDeadline(p.getDate())}"
          th:class="${p.completed} ? 'badge badge-success badge-pill' :
                                (${days>1} ? 'badge badge-info badge-pill':
                                        (${days>-1} ? 'badge badge-warning badge-pill' :
                                                'badge badge-danger badge-pill'))"
          th:text="${p.completed} ? '' : ${days}"
    >
    </span>

</td>
</html>
